import{_ as c,r as o,o as p,c as d,a as h,d as s,e as a,b as n,w as i,f as k}from"./app-CeXFRa4Q.js";const B={},y=s("figure",null,[s("img",{src:"https://s2.loli.net/2024/04/07/1pGe5USA4aznZsg.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),E=s("p",null,"搭建 “课程管理系统” Demo，了解微服务架构玩法。",-1),C=k(`<p>编译 thrift 脚本</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="script/gen-code.sh"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">SCRIPT_PATH</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">$(</span><span style="color:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="color:#032F62;--shiki-dark:#98C379;"> $(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">dirname</span><span style="color:#005CC5;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> $0</span><span style="color:#032F62;--shiki-dark:#98C379;">); </span><span style="color:#005CC5;--shiki-dark:#56B6C2;">pwd</span><span style="color:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">$(</span><span style="color:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="color:#24292E;--shiki-dark:#E06C75;"> $SCRIPT_PATH</span><span style="color:#032F62;--shiki-dark:#98C379;">/../; </span><span style="color:#005CC5;--shiki-dark:#56B6C2;">pwd</span><span style="color:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">function</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> copy_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">  local</span><span style="color:#24292E;--shiki-dark:#E06C75;"> src</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="color:#005CC5;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">$1</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">  local</span><span style="color:#24292E;--shiki-dark:#E06C75;"> dst</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="color:#005CC5;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">$2</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  mkdir</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -pv</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">dst</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">%/*</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  cp</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -avf</span><span style="color:#24292E;--shiki-dark:#E06C75;"> $src</span><span style="color:#24292E;--shiki-dark:#E06C75;"> $dst</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># message</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> py</span><span style="color:#005CC5;--shiki-dark:#D19A66;">   -out</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/message-thrift-python-service/thrift_api/</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/script/thrift/message.thrift</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -out</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/message-thrift-java-api/src/main/java/</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">    \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/script/thrift/message.thrift</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># user</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -out</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/user-thrift-java-api/src/main/java/</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/script/thrift/user.thrift</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="信息服务-python" tabindex="-1"><a class="header-anchor" href="#信息服务-python"><span>信息服务（Python）</span></a></h2>`,3),A=s("div",{class:"language-go line-numbers-mode","data-ext":"go","data-title":"script/thrift/message.thrift"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"namespace"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," java"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," org"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"example"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"thrift"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"message")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"namespace"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," py"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," message"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"api")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"service"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," MessageService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    bool"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," sendMobileMessage"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," mobile"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," message"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    bool"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," sendEmailMessage"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," email"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," message"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),F=s("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"message_service.py"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"# -*- coding: utf-8 -*-")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"# thrift 服务器")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"from"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," thrift_api.message.api "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," MessageService")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"from"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," thrift.transport "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TSocket, TTransport")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"from"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," thrift.protocol "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TBinaryProtocol")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"from"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," thrift.server "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TServer")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"class"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," MessageServiceHandler"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}},"MessageService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}},"Iface"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"):")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    def"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," sendMobileMessage"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B","font-style":"inherit","--shiki-dark-font-style":"italic"}},"self"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{color:"#24292E","--shiki-dark":"#D19A66","font-style":"inherit","--shiki-dark-font-style":"italic"}},"mobile"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{color:"#24292E","--shiki-dark":"#D19A66","font-style":"inherit","--shiki-dark-font-style":"italic"}},"message"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"):")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#56B6C2"}},"        print"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"sendMobileMessage, mobile:'),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"{}"),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},", message:"),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"{}"),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", mobile, message)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}}," True")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    def"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," sendEmailMessage"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B","font-style":"inherit","--shiki-dark-font-style":"italic"}},"self"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{color:"#24292E","--shiki-dark":"#D19A66","font-style":"inherit","--shiki-dark-font-style":"italic"}},"email"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{color:"#24292E","--shiki-dark":"#D19A66","font-style":"inherit","--shiki-dark-font-style":"italic"}},"message"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"):")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"        # import smtplib")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#56B6C2"}},"        print"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"sendEmailMessage, email:'),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"{}"),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},", message:"),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"{}"),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},", email, message)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}}," True")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"if"),s("span",{style:{color:"#005CC5","--shiki-dark":"#E06C75"}}," __name__"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '__main__'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"    # 1")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    handler "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#24292E","--shiki-dark":"#61AFEF"}}," MessageServiceHandler"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    processor "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," MessageService."),s("span",{style:{color:"#24292E","--shiki-dark":"#61AFEF"}},"Processor"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(handler)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"    # 2")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    host "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},' "localhost"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    port "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}}," 19091")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    socket "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TSocket."),s("span",{style:{color:"#24292E","--shiki-dark":"#61AFEF"}},"TServerSocket"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(host, port)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"    # 3")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    transportFactory "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TTransport."),s("span",{style:{color:"#24292E","--shiki-dark":"#61AFEF"}},"TTransportFactoryBase"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"    # 4")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    protocolFactory "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TBinaryProtocol."),s("span",{style:{color:"#24292E","--shiki-dark":"#61AFEF"}},"TBinaryProtocolFactory"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"    # server")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    server "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TServer."),s("span",{style:{color:"#24292E","--shiki-dark":"#61AFEF"}},"TSimpleServer"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(processor, socket, transportFactory, protocolFactory)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#56B6C2"}},"    print"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"python thrift server start..."'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    server."),s("span",{style:{color:"#24292E","--shiki-dark":"#61AFEF"}},"serve"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#56B6C2"}},"    print"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"python thrift server exit."'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),m=s("h2",{id:"用户服务",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#用户服务"},[s("span",null,"用户服务")])],-1),v=s("p",null,"接口实现",-1),u=s("div",{class:"language-go line-numbers-mode","data-ext":"go","data-title":"script/thrift/user.thrift"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"namespace"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," java"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," org"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"example"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"thrift"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"user")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"struct"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," UserInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"    1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"i32"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," id"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"    2"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," username"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"    3"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," password"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"    4"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," readName"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"    5"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," mobile"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"    6"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," email"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"service"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    UserInfo"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," getUserById"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"i32"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," id"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    UserInfo"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," getUserByUsername"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"string"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," username"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    void"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," registerUser"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},":"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"UserInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," userInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),D=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"UserServiceImpl.py in user-thrift-java-service"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"package"),s("span",{style:{color:"#24292E","--shiki-dark":"#C678DD"}}," org.example.thrift.user.service"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.example.thrift.user.UserInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.example.thrift.user.UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.example.thrift.user.mapper.UserMapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.springframework.beans.factory.annotation.Autowired"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.springframework.stereotype.Service"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"@"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Service")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," class"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," UserServiceImpl"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," implements"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," UserService"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}},"Iface"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Autowired")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    private"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," UserMapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," userMapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Override")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    public"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," UserInfo"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," getUserById"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," id"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," throws"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," userMapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"getUserInfoById"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(id);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    }")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Override")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    public"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," UserInfo"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," getUserByUsername"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," username"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," throws"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," userMapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"getUserInfoByUsername"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(username);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    }")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Override")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," void"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," registerUser"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"UserInfo"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," userInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," throws"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"        userMapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"insertUserInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(userInfo);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),b=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"UserMapper.java in user-thrift-java-service"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"package"),s("span",{style:{color:"#24292E","--shiki-dark":"#C678DD"}}," org.example.thrift.user.mapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.ibatis.annotations.Insert"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.ibatis.annotations.Mapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.ibatis.annotations.Param"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.ibatis.annotations.Select"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.example.thrift.user.UserInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"@"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Mapper")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," interface"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," UserMapper"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Select"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"select id, username, password, real_name as realName, mobile, email from pe_user where id=#{id}"'),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"    UserInfo"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," getUserInfoById"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(@"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Param"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"id"'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," id"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Select"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"select id, username, password, real_name as realName, mobile, email from pe_user where username=#{username}"'),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"    UserInfo"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," getUserInfoByUsername"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(@"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Param"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"username"'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," username"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Insert"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"insert into pe_user (username, password, real_name, mobile, email) "'),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," +")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'            "values (#{u.username}, #{u.password}, #{u.realName}, #{u.mobile}, #{u.email})"'),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    void"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," insertUserInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(@"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Param"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"u"'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},") "),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"UserInfo"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," userInfo"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),f=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"db/data.sql"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"DELETE"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," FROM"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," pe_user"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"INSERT"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," INTO"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," pe_user"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," (id"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," username"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," password"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," real_name"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," mobile"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," email) "),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"VALUES")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    ("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'james'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '!@FASFS@1rsfsa'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'james'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '1324121213213'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'test1@gmail.com'"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    ("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven1'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '!@FAsafd1rsfsa'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '12312412313'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven@gmail.com'"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    ("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"3"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven2'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '$%&^#$FS@1rsfsa'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '443212313123'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven@gmail.com'"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    ("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"4"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven3'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '!@FASfassf#@3fsa'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," '123214123123'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}}," 'steven@gmail.com'"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),g=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"db/schema.sql"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"DROP"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," TABLE"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," IF"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," EXISTS"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," pe_user"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"CREATE"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," TABLE"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," pe_user")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"(")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    id integer not "),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"null"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," COMMENT "),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},"'主键ID'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    username "),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"varchar"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"255"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},") not "),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"null"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," comment "),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},"'用户名'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    password "),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"varchar"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"255"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},") not "),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"null"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," COMMENT "),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},"'用户密码'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    real_name "),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"varchar"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"255"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},") "),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"NULL"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," DEFAULT"),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}}," null"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," COMMENT "),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},"'姓名'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    mobile "),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"varchar"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"255"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},") "),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"NULL"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," DEFAULT"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," NULL"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," COMMENT "),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},"'手机'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    email "),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"varchar"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"255"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},") "),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"NULL"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," DEFAULT"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," NULL"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," COMMENT "),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},"'邮箱'"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    primary "),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"key"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"(id)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),T=k(`<p>服务器</p><div class="language-java line-numbers-mode" data-ext="java" data-title="ThriftServer.java in user-thrift-java-service"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">package</span><span style="color:#24292E;--shiki-dark:#C678DD;"> org.example.thrift.user.thrift</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> lombok.extern.slf4j.Slf4j</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.apache.thrift.protocol.TBinaryProtocol</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.apache.thrift.server.TServer</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.apache.thrift.server.TSimpleServer</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.apache.thrift.transport.TServerSocket</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.apache.thrift.transport.TTransportException</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.apache.thrift.transport.TTransportFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.example.thrift.user.UserService</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.example.thrift.user.service.UserServiceImpl</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.springframework.beans.factory.annotation.Autowired</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.springframework.beans.factory.annotation.Value</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> org.springframework.context.annotation.Configuration</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Slf4j</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Configuration</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> ThriftServer</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Value</span><span style="color:#24292E;--shiki-dark:#E06C75;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${thrift.server.port}&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> int</span><span style="color:#24292E;--shiki-dark:#E06C75;"> thriftServerPort</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Autowired</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> UserServiceImpl</span><span style="color:#24292E;--shiki-dark:#E06C75;"> userServiceImpl</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> startThriftServer</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        UserService</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Processor</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">UserServiceImpl</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#24292E;--shiki-dark:#E06C75;">userServiceProcessor</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> UserService</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Processor</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;(userServiceImpl);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        try</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B;">TServerSocket</span><span style="color:#24292E;--shiki-dark:#E06C75;"> socket</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TServerSocket</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(thriftServerPort)){</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            TServer</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Args</span><span style="color:#24292E;--shiki-dark:#E06C75;"> serverArgs</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TServer.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(socket);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            serverArgs</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">processor</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(userServiceProcessor);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            serverArgs</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">protocolFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#D73A49;--shiki-dark:#C678DD;">new</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TBinaryProtocol.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Factory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            serverArgs</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">transportFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#D73A49;--shiki-dark:#C678DD;">new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TTransportFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">            // server</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            TSimpleServer</span><span style="color:#24292E;--shiki-dark:#E06C75;"> server</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TSimpleServer</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(serverArgs);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            log</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">info</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;TServer - Start serving...&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            server</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">serve</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">        } </span><span style="color:#D73A49;--shiki-dark:#C678DD;">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B;">TTransportException</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            throw</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> RuntimeException</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(e);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function _(S,U){const t=o("RepoLink"),e=o("Tabs");return p(),d("div",null,[y,E,h(" more "),s("p",null,[a("代码： "),n(t,{path:"/code/demo-microk8s/"})]),C,n(e,{id:"17",data:[{id:"接口定义语言"},{id:"服务器设置"}]},{title0:i(({value:l,isActive:r})=>[a("接口定义语言")]),title1:i(({value:l,isActive:r})=>[a("服务器设置")]),tab0:i(({value:l,isActive:r})=>[A]),tab1:i(({value:l,isActive:r})=>[F]),_:1}),m,v,n(e,{id:"31",data:[{id:"接口定义语言"},{id:"接口实现"},{id:"数据库查询"},{id:"数据库定义"},{id:"数据库数据"}]},{title0:i(({value:l,isActive:r})=>[a("接口定义语言")]),title1:i(({value:l,isActive:r})=>[a("接口实现")]),title2:i(({value:l,isActive:r})=>[a("数据库查询")]),title3:i(({value:l,isActive:r})=>[a("数据库定义")]),title4:i(({value:l,isActive:r})=>[a("数据库数据")]),tab0:i(({value:l,isActive:r})=>[u]),tab1:i(({value:l,isActive:r})=>[D]),tab2:i(({value:l,isActive:r})=>[b]),tab3:i(({value:l,isActive:r})=>[f]),tab4:i(({value:l,isActive:r})=>[g]),_:1}),T])}const I=c(B,[["render",_],["__file","index.html.vue"]]),j=JSON.parse('{"path":"/zh/demo-record/demo-microk8s/","title":"容器化微服务 Demo 项目开发笔记","lang":"zh-CN","frontmatter":{"title":"容器化微服务 Demo 项目开发笔记","date":"2024-04-06T00:00:00.000Z","category":["示例项目"],"tag":["微服务"],"order":1,"index":false,"gitInclude":["../../../../code/demo-microk8s/microservice/script/gen-code.sh","../../../../code/demo-microk8s/microservice/script/thrift/message.thrift","../../../../code/demo-microk8s/microservice/message-thrift-python-service/message_service.py","../../../../code/demo-microk8s/microservice/script/thrift/user.thrift","../../../../code/demo-microk8s/microservice/user-thrift-java-service/src/main/java/org/example/thrift/user/service/UserServiceImpl.java","../../../../code/demo-microk8s/microservice/user-thrift-java-service/src/main/java/org/example/thrift/user/mapper/UserMapper.java","../../../../code/demo-microk8s/microservice/user-thrift-java-service/src/main/resources/db/data.sql","../../../../code/demo-microk8s/microservice/user-thrift-java-service/src/main/resources/db/schema.sql","../../../../code/demo-microk8s/microservice/user-thrift-java-service/src/main/java/org/example/thrift/user/thrift/ThriftServer.java"],"description":"搭建 “课程管理系统” Demo，了解微服务架构玩法。","head":[["meta",{"property":"og:url","content":"https://lawsssscat.github.io/blog/zh/blog/zh/demo-record/demo-microk8s/"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"容器化微服务 Demo 项目开发笔记"}],["meta",{"property":"og:description","content":"搭建 “课程管理系统” Demo，了解微服务架构玩法。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://s2.loli.net/2024/04/07/1pGe5USA4aznZsg.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-15T13:17:22.000Z"}],["meta",{"property":"article:author","content":"Steven"}],["meta",{"property":"article:tag","content":"微服务"}],["meta",{"property":"article:published_time","content":"2024-04-06T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-15T13:17:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"容器化微服务 Demo 项目开发笔记\\",\\"image\\":[\\"https://s2.loli.net/2024/04/07/1pGe5USA4aznZsg.png\\"],\\"datePublished\\":\\"2024-04-06T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-15T13:17:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Steven\\",\\"url\\":\\"https://github.com/LawssssCat/\\"}]}"]]},"headers":[{"level":2,"title":"信息服务（Python）","slug":"信息服务-python","link":"#信息服务-python","children":[]},{"level":2,"title":"用户服务","slug":"用户服务","link":"#用户服务","children":[]}],"git":{"createdTime":1712444266000,"updatedTime":1713187042000,"contributors":[{"name":"lawsssscat","email":"18041500+LawssssCat@users.noreply.github.com","commits":7}]},"readingTime":{"minutes":0.71,"words":214},"filePathRelative":"zh/demo-record/demo-microk8s/README.md","localizedDate":"2024年4月6日","excerpt":"<figure><img src=\\"https://s2.loli.net/2024/04/07/1pGe5USA4aznZsg.png\\" alt=\\"\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption></figcaption></figure>\\n<p>搭建 “课程管理系统” Demo，了解微服务架构玩法。</p>\\n","autoDesc":true}');export{I as comp,j as data};
