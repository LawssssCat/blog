import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,d as t,e as r,w as a,r as d,o as c,a as s,f as e}from"./app-Ca8036xF.js";const g={};function o(u,i){const h=d("Tabs");return c(),k("div",null,[i[6]||(i[6]=t(`<p><a href="https://flume.apache.org/documentation.html" target="_blank" rel="noopener noreferrer">https://flume.apache.org/documentation.html</a></p><p>Flume 是分布式的、可靠的、高可用的服务，用于有效地采集、聚合大量数据源数据（如日志文件、网络数据源、消息队列等），并将大规模数据从各种采集、传输和加载到数据存储系统（如 Hadoop HDFS、Apache HBase、Apache Hive 等）。</p><h2 id="版本" tabindex="-1"><a class="header-anchor" href="#版本"><span>版本</span></a></h2><ul><li>Flume OG（Original Generation） —— 初始版本。该版本有代码臃肿、核心组件设计不合理、核心配置不标准等问题。</li><li>Flume NG（Next Generation） —— 2011年启动的重构版本（重构核心组件、核心配置、代码架构）。</li></ul><h2 id="架构" tabindex="-1"><a class="header-anchor" href="#架构"><span>架构</span></a></h2><p>Flume运行的核心是Agent。Flume以Agent为最小的独立运行单位，它是一个完整的数据采集工具。</p><p>Flume Agent 包含三个核心组件，分别是：</p><ul><li>数据源（Source）组件 —— 与数据源进行交互，采集数据，封装成event（事件，对应的是一条记录，有结构：header=键值对、body=采集到的数据内容）（一般一行日志一个event）</li><li>通道（Channel）l组件 —— 将source传输的event进行缓存，然后传输给sink</li><li>接收器（Sink）组件 —— 将接收到的event下沉到存储系统或者是下一个Agent的source组件中</li><li>其他组件 <ul><li>selector —— 将event分发到不同的channel</li><li>拦截器（Interceptor） —— 拦截、修改event。允许用户对采集的数据进行预处理和转换，以满足特定需求。</li></ul></li></ul><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>数据源： kafka消息队列、磁盘上的数据、http/web数据</span></span>
<span class="line"><span></span></span>
<span class="line"><span>flume | ----------- agent ----------- </span></span>
<span class="line"><span>flume | </span></span>
<span class="line"><span>flume | source： kafka实现类、磁盘实现类、http实现类</span></span>
<span class="line"><span>flume | ~~~~~~~~ selector ~~~~~~~~</span></span>
<span class="line"><span>flume | ↓</span></span>
<span class="line"><span>flume | ↓ event</span></span>
<span class="line"><span>flume | ↓</span></span>
<span class="line"><span>flume | ======== interceptor ========</span></span>
<span class="line"><span>flume | channel： memory、file</span></span>
<span class="line"><span>flume | ↓</span></span>
<span class="line"><span>flume | ↓ event</span></span>
<span class="line"><span>flume | ↓</span></span>
<span class="line"><span>flume | ======== interceptor ========</span></span>
<span class="line"><span>flume | sink：kafka实现类、磁盘实现类、http实现类</span></span>
<span class="line"><span>flume | </span></span>
<span class="line"><span>flume | --------------------------------- </span></span>
<span class="line"><span></span></span>
<span class="line"><span>输出： kafka消息队列、hdfs、hbase、...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>数据模型：</p>`,10)),r(h,{id:"68",data:[{id:"基础数据流"},{id:"多Agent串行"},{id:"多Agent汇聚"}]},{title0:a(({value:n,isActive:l})=>[...i[0]||(i[0]=[e("基础数据流",-1)])]),title1:a(({value:n,isActive:l})=>[...i[1]||(i[1]=[e("多Agent串行",-1)])]),title2:a(({value:n,isActive:l})=>[...i[2]||(i[2]=[e("多Agent汇聚",-1)])]),tab0:a(({value:n,isActive:l})=>[...i[3]||(i[3]=[s("div",{class:"language-txt line-numbers-mode","data-highlighter":"shiki","data-ext":"txt","data-title":"txt",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"Source --> Flume Agent --> HD")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])]),tab1:a(({value:n,isActive:l})=>[...i[4]||(i[4]=[s("div",{class:"language-txt line-numbers-mode","data-highlighter":"shiki","data-ext":"txt","data-title":"txt",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"Source --> Flume Agent --AVRO/RPC--> Flume Agent --> HD")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])]),tab2:a(({value:n,isActive:l})=>[...i[5]||(i[5]=[s("div",{class:"language-txt line-numbers-mode","data-highlighter":"shiki","data-ext":"txt","data-title":"txt",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"Source --> Flume Agent --> |")]),e(`
`),s("span",{class:"line"},[s("span",null,"                           | --> Flume Agent (Consolidation) --> HD")]),e(`
`),s("span",{class:"line"},[s("span",null,"Source --> Flume Agent --> |")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),_:1}),i[7]||(i[7]=t(`<h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h2><h3 id="核心组件组装方式" tabindex="-1"><a class="header-anchor" href="#核心组件组装方式"><span>核心组件组装方式</span></a></h3><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># list the sources, sinks and channels for agent</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">&lt;Agent&gt;.</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">sources</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> &lt;Source1&gt; &lt;Source2&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">&lt;Agent&gt;.</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">sinks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> &lt;Sink1&gt; &lt;Sink2&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">&lt;Agent&gt;.</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">channels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> &lt;Channel1&gt; &lt;Channel2&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># set channel for source</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">&lt;Agent&gt;.sources.&lt;Source1&gt;.</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">channels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> &lt;Channel1&gt; &lt;Channel2&gt; ...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># set channel for sink</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">&lt;Agent&gt;.sinks.&lt;Sink1&gt;.</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">channel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> &lt;Channel1&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>e.g.</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Name the components on this agent  声明变量名称</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sources</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> r1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sinks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> k1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.channels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> c1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Describe/configure the source  配置数据源</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sources.r1.type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> netcat</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sources.r1.bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> localhost</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sources.r1.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> 2666</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Describe the sink  配置接收器（存储源）</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sinks.k1.type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> logger</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Use a channel which buffers events in memory 配置管道参数</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.channels.c1.type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> memory</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.channels.c1.capacity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.channels.c1.transactionCapacity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> 100</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Bind the source and sink to the channel  组装</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sources.r1.channels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> c1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1.sinks.k1.channel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> c1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常用的核心组件实现" tabindex="-1"><a class="header-anchor" href="#常用的核心组件实现"><span>常用的核心组件实现</span></a></h3><ul><li>Source <ul><li>org.apache.flume.source.kafka.kafkaSource —— Kafka source</li><li>http</li><li>exec</li><li>syslogtcp —— Syslog TCP source</li><li>syslogudp —— Syslog UDP source</li><li>thrift —— Thrift source</li><li>jms —— JMS source</li><li>avro —— Avro source</li><li>spooldir —— Spooling directory source</li></ul></li><li>Channel <ul><li>memory —— Memory channel</li><li>jdbc —— JDBC Channel</li><li>org.apache.flume.channel.kafka.kafkaChannel —— Kafka channel</li><li>file —— File Channel</li></ul></li><li>Sink <ul><li>hdfs —— HDFS sink</li><li>logger —— Logger sink</li><li>org.apache.flume.sink.kafka.kafkaSink —— Kafka sink</li><li>avro —— Avro sink</li><li>hive —— HIVE sink</li></ul></li></ul><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bin/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume-ng</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume-ng.cmd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume-ng.ps1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lib/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> conf/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume-conf.properties.template</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume-env.ps1.template</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume-env.sh.template</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> log4j.properties</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tools/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docs/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> LICENSE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">└──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> README.md</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><h3 id="本体安装" tabindex="-1"><a class="header-anchor" href="#本体安装"><span>本体安装</span></a></h3><p>安装要求：</p><ul><li>JDK8+</li><li>内存空间 —— 用于源、通道、接收器使用</li><li>磁盘空间 —— 用于通道、接收器使用</li><li>目录权限 —— agent使用的目录读写权限</li></ul><h4>安装方式一：压缩包安装</h4><p>下载： <a href="http://archive.apache.org/dist/flume" target="_blank" rel="noopener noreferrer">http://archive.apache.org/dist/flume</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://archive.apache.org/dist/flume/1.8.0/apache-flume-1.8.0-bin.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apache-flume-1.8.0-bin.tar.gz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apache-flume-1.8.0-bin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/profile</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> FLUME_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">flume</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$FLUME_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/profile</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flume</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Flume</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1.8.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> conf/flume-env.sh.template</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> conf/flume-env.sh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> conf/flume-env.sh</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># export JAVA_HOME=/usr/lib/jvm/java=8-oracle</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> JAVA_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jdk</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 自定义</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="拦截器" tabindex="-1"><a class="header-anchor" href="#拦截器"><span>拦截器</span></a></h2><p>todo</p>`,20))])}const A=p(g,[["render",o]]),y=JSON.parse('{"path":"/zh/dev-se-elk/flume.html","title":"Flume","lang":"zh-CN","frontmatter":{"title":"Flume","order":10,"description":"https://flume.apache.org/documentation.html Flume 是分布式的、可靠的、高可用的服务，用于有效地采集、聚合大量数据源数据（如日志文件、网络数据源、消息队列等），并将大规模数据从各种采集、传输和加载到数据存储系统（如 Hadoop HDFS、Apache HBase、Apache Hive 等）。 版本 F...","head":[["meta",{"property":"og:url","content":"https://lawsssscat.github.io/blog/zh/blog/zh/dev-se-elk/flume.html"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"Flume"}],["meta",{"property":"og:description","content":"https://flume.apache.org/documentation.html Flume 是分布式的、可靠的、高可用的服务，用于有效地采集、聚合大量数据源数据（如日志文件、网络数据源、消息队列等），并将大规模数据从各种采集、传输和加载到数据存储系统（如 Hadoop HDFS、Apache HBase、Apache Hive 等）。 版本 F..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-07T08:06:31.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-07T08:06:31.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Flume\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-07T08:06:31.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Steven\\",\\"url\\":\\"https://github.com/LawssssCat/\\"}]}"]]},"headers":[{"level":2,"title":"版本","slug":"版本","link":"#版本","children":[]},{"level":2,"title":"架构","slug":"架构","link":"#架构","children":[]},{"level":2,"title":"配置","slug":"配置","link":"#配置","children":[{"level":3,"title":"核心组件组装方式","slug":"核心组件组装方式","link":"#核心组件组装方式","children":[]},{"level":3,"title":"常用的核心组件实现","slug":"常用的核心组件实现","link":"#常用的核心组件实现","children":[]}]},{"level":2,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[{"level":3,"title":"本体安装","slug":"本体安装","link":"#本体安装","children":[{"level":4,"title":"安装方式一：压缩包安装","slug":"安装方式一-压缩包安装","link":"#安装方式一-压缩包安装","children":[]}]}]},{"level":2,"title":"拦截器","slug":"拦截器","link":"#拦截器","children":[]}],"git":{"createdTime":1764525919000,"updatedTime":1765094791000,"contributors":[{"name":"lawsssscat","username":"lawsssscat","email":"18041500+LawssssCat@users.noreply.github.com","commits":2,"url":"https://github.com/lawsssscat"}]},"readingTime":{"minutes":2.77,"words":831},"filePathRelative":"zh/dev-se-elk/flume.md","localizedDate":"2025年11月30日","excerpt":"<p><a href=\\"https://flume.apache.org/documentation.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://flume.apache.org/documentation.html</a></p>\\n<p>Flume 是分布式的、可靠的、高可用的服务，用于有效地采集、聚合大量数据源数据（如日志文件、网络数据源、消息队列等），并将大规模数据从各种采集、传输和加载到数据存储系统（如 Hadoop HDFS、Apache HBase、Apache Hive 等）。</p>\\n<h2>版本</h2>\\n<ul>\\n<li>Flume OG（Original Generation） —— 初始版本。该版本有代码臃肿、核心组件设计不合理、核心配置不标准等问题。</li>\\n<li>Flume NG（Next Generation） —— 2011年启动的重构版本（重构核心组件、核心配置、代码架构）。</li>\\n</ul>","autoDesc":true}');export{A as comp,y as data};
