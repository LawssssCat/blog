import{_ as c,r as e,o as d,c as h,a as y,d as s,e as a,b as r,w as i,f as o}from"./app-B7a2l0lr.js";const B={},E=s("p",null,"记录 Thrift 的安装、使用。",-1),F=s("p",null,"参考：",-1),C={href:"https://www.cnblogs.com/fingerboy/p/6424248.html",target:"_blank",rel:"noopener noreferrer"},v=s("h2",{id:"安装",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#安装"},[s("span",null,"安装")])],-1),A={href:"https://github.com/apache/thrift",target:"_blank",rel:"noopener noreferrer"},u=o(`<details class="hint-container details"><summary>安装脚本</summary><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># thrift 安装脚本</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># 参考：</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># + 安装脚本 —— https://thrift.apache.org/docs/install/centos</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># + 环境要求 —— https://thrift.apache.org/docs/install/</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">WORKSPACE</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">$1</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-n</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">$WORKSPACE</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> ] </span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">||</span><span style="color:#24292E;--shiki-dark:#E06C75;"> WORKSPACE</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">$(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mktemp</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="color:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="color:#24292E;--shiki-dark:#E06C75;"> $WORKSPACE</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_VERSION</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;0.20.0&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_HOME</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">WORKSPACE</span><span style="color:#032F62;--shiki-dark:#98C379;">}/thrift-install/\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_VERSION</span><span style="color:#032F62;--shiki-dark:#98C379;">}/&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">function</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> install_src_thrift</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">  cd</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">WORKSPACE</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">!</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> -d</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;thrift-\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_VERSION</span><span style="color:#032F62;--shiki-dark:#98C379;">}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> ]; </span><span style="color:#D73A49;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    wget</span><span style="color:#032F62;--shiki-dark:#98C379;"> https://dlcdn.apache.org/thrift/</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/thrift-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">.tar.gz</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    tar</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -zxvf</span><span style="color:#032F62;--shiki-dark:#98C379;"> thrift-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">.tar.gz</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">  fi</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">function</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> install_yum</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  yum</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="color:#032F62;--shiki-dark:#98C379;"> install</span><span style="color:#032F62;--shiki-dark:#98C379;"> wget</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  yum</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="color:#032F62;--shiki-dark:#98C379;"> groupinstall</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;Development Tools&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  yum</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="color:#032F62;--shiki-dark:#98C379;"> install</span><span style="color:#032F62;--shiki-dark:#98C379;"> libtool</span><span style="color:#032F62;--shiki-dark:#98C379;"> flex</span><span style="color:#032F62;--shiki-dark:#98C379;"> bison</span><span style="color:#032F62;--shiki-dark:#98C379;"> pkgconfig</span><span style="color:#032F62;--shiki-dark:#98C379;"> boost-devel</span><span style="color:#032F62;--shiki-dark:#98C379;"> libevent-devel</span><span style="color:#032F62;--shiki-dark:#98C379;"> zlib-devel</span><span style="color:#032F62;--shiki-dark:#98C379;"> python-devel</span><span style="color:#032F62;--shiki-dark:#98C379;"> ruby-devel</span><span style="color:#032F62;--shiki-dark:#98C379;"> openssl-devel</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  yum</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="color:#032F62;--shiki-dark:#98C379;"> install</span><span style="color:#032F62;--shiki-dark:#98C379;"> ant</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  yum</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="color:#032F62;--shiki-dark:#98C379;"> install</span><span style="color:#032F62;--shiki-dark:#98C379;"> boost</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">function</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> build</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">  cd</span><span style="color:#032F62;--shiki-dark:#98C379;"> thrift-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">THRIFT_VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">  local</span><span style="color:#24292E;--shiki-dark:#E06C75;"> CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --prefix=</span><span style="color:#24292E;--shiki-dark:#E06C75;">$THRIFT_HOME</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">  # CONFIGURE_FLAGS=&quot;\${CONFIGURE_FLAGS} --with-cpp --with-boost=/usr/local/&quot; # 源码编译 boot 则指定 boost 位置。否则 “g++: error: /usr/local//lib/libboost_unit_test_framework.a: No such file or directory”</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --with-cpp&quot;</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"> # 使用 boost 默认位置</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --with-python&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --with-java&quot;</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"> # ant</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --without-csharp&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --without-erlang&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --without-perl&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --without-php --without-php_extension&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --without-ruby&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --without-haskell&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  CONFIGURE_FLAGS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379;">} --without-go&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  ./bootstrap.sh</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  ./configure</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">CONFIGURE_FLAGS</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">:</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#ABB2BF;">COMMENT</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">thrift 0.20.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building C (GLib) Library .... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building C++ Library ......... : yes</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Common Lisp Library.. : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building D Library ........... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Dart Library ........ : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building .NET Standard Library : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Erlang Library ...... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Go Library .......... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Haxe Library ........ : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Java Library ........ : no # ???? 确定有 java 和 ant 的。而且编译后又确实能生成 java 代码？</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Kotlin Library ...... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Lua Library ......... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building NodeJS Library ...... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Perl Library ........ : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building PHP Library ......... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Python Library ...... : yes</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Py3 Library ......... : yes</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Ruby Library ........ : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Rust Library ........ : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Building Swift Library ....... : no</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">C++ Library:</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   C++ compiler .............. : g++ -std=c++11</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   Build TZlibTransport ...... : yes</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   Build TNonblockingServer .. : yes</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   Build TQTcpServer (Qt5) ... : no</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   C++ compiler version ...... : g++ (GCC) 10.3.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">Python Library:</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   Using Python .............. : /usr/bin/python3</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   Using Python version ...... : Python 3.9.9</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   Using Python3 ............. : /usr/bin/python3</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">   Using Python3 version ..... : Python 3.9.9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">If something is missing that you think should be present,</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">please skim the output of configure to find the missing</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">component.  Details are present in config.log.</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#ABB2BF;">COMMENT</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  make</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  make</span><span style="color:#032F62;--shiki-dark:#98C379;"> install</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="编译-idl-文件" tabindex="-1"><a class="header-anchor" href="#编译-idl-文件"><span>编译 IDL 文件</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -help</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span><span style="color:#032F62;--shiki-dark:#98C379;"> user.thrift</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> cpp</span><span style="color:#032F62;--shiki-dark:#98C379;"> user.thrift</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> php</span><span style="color:#032F62;--shiki-dark:#98C379;"> user.thrift</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> js:node</span><span style="color:#032F62;--shiki-dark:#98C379;"> user.thrift</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="color:#032F62;--shiki-dark:#98C379;"> target</span><span style="color:#032F62;--shiki-dark:#98C379;"> user.thrift</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="例子-简单-c-s-通信" tabindex="-1"><a class="header-anchor" href="#例子-简单-c-s-通信"><span>例子：简单 C/S 通信</span></a></h2>`,4),m=o(`<h3 id="生成接口文件" tabindex="-1"><a class="header-anchor" href="#生成接口文件"><span>生成接口文件</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">SCRIPT_PATH</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">$(</span><span style="color:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="color:#032F62;--shiki-dark:#98C379;"> $(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">dirname</span><span style="color:#005CC5;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> $0</span><span style="color:#032F62;--shiki-dark:#98C379;">); </span><span style="color:#005CC5;--shiki-dark:#56B6C2;">pwd</span><span style="color:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">$(</span><span style="color:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="color:#24292E;--shiki-dark:#E06C75;"> $SCRIPT_PATH</span><span style="color:#032F62;--shiki-dark:#98C379;">/../; </span><span style="color:#005CC5;--shiki-dark:#56B6C2;">pwd</span><span style="color:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">function</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> copy_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">  local</span><span style="color:#24292E;--shiki-dark:#E06C75;"> src</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="color:#005CC5;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">$1</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">  local</span><span style="color:#24292E;--shiki-dark:#E06C75;"> dst</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="color:#005CC5;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">$2</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  mkdir</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -pv</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">dst</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">%/*</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">  cp</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -avf</span><span style="color:#24292E;--shiki-dark:#E06C75;"> $src</span><span style="color:#24292E;--shiki-dark:#E06C75;"> $dst</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/target/</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/user.thrift</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">copy_file</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#032F62;--shiki-dark:#98C379;">}/target/gen-java/*&quot;</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#032F62;--shiki-dark:#98C379;">}/thrift-api/src/main/java/&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># python</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --gen</span><span style="color:#032F62;--shiki-dark:#98C379;"> py</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/target/</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span><span style="color:#032F62;--shiki-dark:#98C379;">/user.thrift</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">copy_file</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#032F62;--shiki-dark:#98C379;">}/target/gen-py/*&quot;</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;\${</span><span style="color:#24292E;--shiki-dark:#E06C75;">PROJECT_PATH</span><span style="color:#032F62;--shiki-dark:#98C379;">}/thrift-client-python/thrift_api/&quot;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># tree thrift-api/</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">thrift-api/</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> pom.xml</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">└──</span><span style="color:#032F62;--shiki-dark:#98C379;"> src</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> main</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">        └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">            └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> com</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">                └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> example</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">                    └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> thrift</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">                        ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> User.java</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">                        └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> UserService.java</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">9</span><span style="color:#032F62;--shiki-dark:#98C379;"> directories,</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="color:#032F62;--shiki-dark:#98C379;"> files</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="客户端-服务端代码-java-java" tabindex="-1"><a class="header-anchor" href="#客户端-服务端代码-java-java"><span>客户端/服务端代码 java/java</span></a></h3><p>引入依赖</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="pom.xml"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#22863A;--shiki-dark:#E06C75;">dependency</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="color:#22863A;--shiki-dark:#E06C75;">groupId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;org.apache.thrift&lt;/</span><span style="color:#22863A;--shiki-dark:#E06C75;">groupId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="color:#22863A;--shiki-dark:#E06C75;">artifactId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;libthrift&lt;/</span><span style="color:#22863A;--shiki-dark:#E06C75;">artifactId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="color:#22863A;--shiki-dark:#E06C75;">version</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;0.20.0&lt;/</span><span style="color:#22863A;--shiki-dark:#E06C75;">version</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;/</span><span style="color:#22863A;--shiki-dark:#E06C75;">dependency</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于开发人员而言，使用原生的 Thrift 框架，需要关注以下四个核心内部接口类：</p><ul><li>Iface —— 服务端通过实现 UserService.Iface 接口，向客户端提供具体的同步业务逻辑。</li><li>AsyncIface —— 服务端通过实现 UserService.Iface 接口，向客户端提供具体的异步业务逻辑。</li><li>Client —— 客户端通过 UserService.Client 的实例对象，以同步的方式访问服务端提供的服务方法。</li><li>AsyncClient —— 客户端通过 UserService.Client 的实例对象，以异步的方式访问服务端提供的服务方法。</li></ul>`,8),b=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"UserServiceImpl.java in server"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"package"),s("span",{style:{color:"#24292E","--shiki-dark":"#C678DD"}}," org.example.service.processor"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," com.example.thrift.User"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," com.example.thrift.UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," java.util.HashMap"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," java.util.Map"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," class"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," UserServiceImpl"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," implements"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," UserService"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}},"Iface"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    final"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," private"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," Map"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}}," User"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," userMap "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," HashMap"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"        User"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," user "),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," User"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"        user"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"setId"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"        user"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"setName"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"Steven"'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"        // user.age = 0")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"        userMap"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"put"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"user"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"getId"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(), user);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"    }")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Override")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    public"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," User"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," getById"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," id"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," throws"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"        System"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"out"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"println"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'" ==== 远程调用 getById 方法 ==="'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," userMap"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"get"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(id);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    }")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    @"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"Override")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," isExist"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," name"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," throws"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," userMap"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"values"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"stream"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"anyMatch"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(p "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"->"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," p"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"getName"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"equals"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(name));")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),D=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"SimpleService.java in server"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"package"),s("span",{style:{color:"#24292E","--shiki-dark":"#C678DD"}}," org.example.service"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," com.example.thrift.UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.protocol.TBinaryProtocol"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.server.TServer"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.server.TSimpleServer"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.transport.TServerSocket"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.transport.TTransportException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.example.service.processor.UserServiceImpl"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," class"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," SimpleService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," static"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," void"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," main"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"[] "),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}},"args"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        try"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"TServerSocket"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," socket"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," TServerSocket"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"19090"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 传输层")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"        ){")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            TBinaryProtocol"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"Factory"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," protocolFactory"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TBinaryProtocol."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"Factory"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 协议层")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"Processor"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"UserServiceImpl"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}},"processor"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"Processor"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"<>("),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," UserServiceImpl"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"()); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 处理层")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"            // 设置服务器参数")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            TServer"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"Args"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," serverArgs"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," TServer."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"Args"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(socket); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 传输层")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            serverArgs"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"protocolFactory"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(protocolFactory); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 协议层")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            serverArgs"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"processor"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(processor); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 处理层")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"            // 启动服务器 （单线程，一般用于测试）")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            TSimpleServer"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," server"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," TSimpleServer"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(serverArgs);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            server"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"serve"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"        } "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"catch"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"TTransportException"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," e"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},") {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"            throw"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," RuntimeException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(e);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"        }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),f=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"SimpleClient.java in client"},[s("pre",{class:"shiki shiki-themes github-light one-dark-pro",style:{"background-color":"#fff","--shiki-dark-bg":"#282c34",color:"#24292e","--shiki-dark":"#abb2bf"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"package"),s("span",{style:{color:"#24292E","--shiki-dark":"#C678DD"}}," org.example.client"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," com.example.thrift.User"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," com.example.thrift.UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.TException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.protocol.TBinaryProtocol"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.protocol.TProtocol"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.transport.TSocket"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.transport.TTransport"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"import"),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," org.apache.thrift.transport.TTransportException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," class"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"}}," SimpleClient"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"    public"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," static"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," void"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," main"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#D73A49","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"[] "),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}},"args"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},")"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"        String"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," host"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},' "localhost"'),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," port"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}}," 19090"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"        try"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"TTransport"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," socket"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," TSocket"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(host, port); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 传输层，阻塞io")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"        ) {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            TProtocol"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," protocol"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," TBinaryProtocol"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(socket); "),s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"// 协议层，二进制编码格式")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            UserService"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"Client"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," client"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," UserService."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"Client"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(protocol);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D","--shiki-dark":"#7F848E","font-style":"inherit","--shiki-dark-font-style":"italic"}},"            // Connect!")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"            socket"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"open"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"            try"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"                User"),s("span",{style:{color:"#24292E","--shiki-dark":"#E06C75"}}," user"),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," ="),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}}," client"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"getById"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#005CC5","--shiki-dark":"#D19A66"}},"1"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"                System"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"out"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}},"println"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{color:"#032F62","--shiki-dark":"#98C379"}},'"user = "'),s("span",{style:{color:"#D73A49","--shiki-dark":"#56B6C2"}}," +"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," user);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"            } "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"catch"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"TException"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," e"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},") {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"                throw"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," RuntimeException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(e);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"            }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"        } "),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"catch"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{color:"#24292E","--shiki-dark":"#E5C07B"}},"TTransportException"),s("span",{style:{color:"#E36209","--shiki-dark":"#E06C75","font-style":"inherit","--shiki-dark-font-style":"italic"}}," e"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},") {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}},"            throw"),s("span",{style:{color:"#D73A49","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{color:"#6F42C1","--shiki-dark":"#61AFEF"}}," RuntimeException"),s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"(e);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"        }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E","--shiki-dark":"#ABB2BF"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),g=o(`<h3 id="客户端-服务端代码-python-java" tabindex="-1"><a class="header-anchor" href="#客户端-服务端代码-python-java"><span>客户端/服务端代码 python/java</span></a></h3><p>服务端用上面的 java，下面写 python 客户端代码。</p><p>首先，下载 thrift 的 python 模块</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">pip</span><span style="color:#032F62;--shiki-dark:#98C379;"> install</span><span style="color:#032F62;--shiki-dark:#98C379;"> thrift</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>客户端 - 传输层/协议层/处理层</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">from</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> thrift.transport </span><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TSocket, TTransport</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">from</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> thrift.protocol </span><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TBinaryProtocol</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">from</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> thrift_api.user </span><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> UserService</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">host </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;localhost&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">port </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 19090</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># 传输层</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">socket </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TSocket.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">TSocket</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(host, port)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">socket.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">setTimeout</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">600</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Buffering is critical. Raw sockets are very slow</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">socket </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TTransport.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">TBufferedTransport</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(socket)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># 协议层</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">protocol </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TBinaryProtocol.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">TBinaryProtocol</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(socket)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Create a client to use the protocol encoder</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">client </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> UserService.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">Client</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(protocol)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Connect!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">socket.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">open</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">user </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> client.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">getById</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(user)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function T(S,_){const p=e("ExternalLinkIcon"),t=e("RepoLink"),k=e("Tabs");return d(),h("div",null,[E,y(" more "),F,s("ul",null,[s("li",null,[s("a",C,[a("https://www.cnblogs.com/fingerboy/p/6424248.html"),r(p)])])]),v,s("p",null,[a("Thrfit 是 c++ 编写的，源码存放在 "),s("a",A,[a("github 仓库"),r(p)]),a("上，一般需要源码编译安装。")]),u,s("p",null,[a("代码： "),r(t,{path:"/code/demo-thrift/"})]),m,r(k,{id:"70",data:[{id:"服务端 - 处理层"},{id:"服务端 - 协议层/传输层"},{id:"客户端 - 协议层/传输层"}]},{title0:i(({value:n,isActive:l})=>[a("服务端 - 处理层")]),title1:i(({value:n,isActive:l})=>[a("服务端 - 协议层/传输层")]),title2:i(({value:n,isActive:l})=>[a("客户端 - 协议层/传输层")]),tab0:i(({value:n,isActive:l})=>[b]),tab1:i(({value:n,isActive:l})=>[D]),tab2:i(({value:n,isActive:l})=>[f]),_:1}),g])}const x=c(B,[["render",T],["__file","usage.html.vue"]]),R=JSON.parse('{"path":"/zh/dev-rpc-thrift/usage.html","title":"Thrift 基本使用","lang":"zh-CN","frontmatter":{"title":"Thrift 基本使用","date":"2024-04-05T00:00:00.000Z","tag":["thrift"],"order":3,"gitInclude":["../../../code/demo-thrift/setup.sh","../../../code/demo-thrift/script/thrift-gen.sh","../../../code/demo-thrift/thrift-server/src/main/java/org/example/service/processor/UserServiceImpl.java","../../../code/demo-thrift/thrift-server/src/main/java/org/example/service/SimpleService.java","../../../code/demo-thrift/thrift-client/src/main/java/org/example/client/SimpleClient.java","../../../code/demo-thrift/thrift-client-python/SimpleClient.py"],"description":"记录 Thrift 的安装、使用。","head":[["meta",{"property":"og:url","content":"https://lawsssscat.github.io/blog/zh/blog/zh/dev-rpc-thrift/usage.html"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"Thrift 基本使用"}],["meta",{"property":"og:description","content":"记录 Thrift 的安装、使用。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-14T05:17:52.000Z"}],["meta",{"property":"article:author","content":"Steven"}],["meta",{"property":"article:tag","content":"thrift"}],["meta",{"property":"article:published_time","content":"2024-04-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-14T05:17:52.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Thrift 基本使用\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-04-05T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-14T05:17:52.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Steven\\",\\"url\\":\\"https://github.com/LawssssCat/\\"}]}"]]},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"编译 IDL 文件","slug":"编译-idl-文件","link":"#编译-idl-文件","children":[]},{"level":2,"title":"例子：简单 C/S 通信","slug":"例子-简单-c-s-通信","link":"#例子-简单-c-s-通信","children":[{"level":3,"title":"生成接口文件","slug":"生成接口文件","link":"#生成接口文件","children":[]},{"level":3,"title":"客户端/服务端代码 java/java","slug":"客户端-服务端代码-java-java","link":"#客户端-服务端代码-java-java","children":[]},{"level":3,"title":"客户端/服务端代码 python/java","slug":"客户端-服务端代码-python-java","link":"#客户端-服务端代码-python-java","children":[]}]}],"git":{"createdTime":1712320147000,"updatedTime":1713071872000,"contributors":[{"name":"lawsssscat","email":"18041500+LawssssCat@users.noreply.github.com","commits":5}]},"readingTime":{"minutes":1.43,"words":428},"filePathRelative":"zh/dev-rpc-thrift/usage.md","localizedDate":"2024年4月5日","excerpt":"<p>记录 Thrift 的安装、使用。</p>\\n","autoDesc":true}');export{x as comp,R as data};
