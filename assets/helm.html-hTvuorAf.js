import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as l,o as e}from"./app-Ca8036xF.js";const t={};function n(h,i){return e(),a("div",null,[...i[0]||(i[0]=[l(`<p>helm是kubernetes的包管理工具，可以将应用程序打包成一个可复用的单元，方便在集群中部署和管理。 helm的核心是chart，chart是应用程序的打包文件，包含应用程序的配置、部署文件和依赖关系。</p><p>特点：</p><ul><li><strong>标准化与可重复性</strong>：任何环境（开发、测试、生产）的部署都可以通过同一套Chart和不同的配置文件来完成，保证环境的一致性和部署的可重复性。一个<code>helm upgrade</code>命令取代数十个<code>kubectl apply</code>/<code>kubectl exec</code>命令</li><li><strong>版本控制（支持安装、升级、回滚）</strong>：Helm Chart本身可以像代码一样被版本化，并存储在Chart仓库（如<a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">Artifact Hub</a>或者私有仓库）中。CI/CD流水线可以准确地拉去指定版本的Chart进行部署或回滚</li><li><strong>环境隔离与配置管理</strong>：Helm允许为不同的环境使用不同的values.yaml文件。例如可以通过<code>-f values-production.yaml</code>参数指定生产环境配置文件，该文件包含了生产环境的数据库密码、资源限制（CPU/Memory）和副本数等。</li></ul><h2 id="示例-使用helm构建mysql主从集群" tabindex="-1"><a class="header-anchor" href="#示例-使用helm构建mysql主从集群"><span>示例：使用Helm构建MySQL主从集群</span></a></h2><p>目的：说明helm的定位</p><p>需要的设置：</p><ul><li><strong>创建Secret</strong>：1、用于存储root密码；2、存储复制专用用户replicator的密码</li><li><strong>创建ConfigMap</strong>：1、用于存储自定义的my.cnf配置</li><li><strong>创建持久化存储（PVC）</strong>：1、为1个主节点和2个从节点分别定义并创建3个PersistentVolumeClaim，以确保数据持久化</li><li><strong>创建Headless Service</strong>：1、为了让StatefulsSet中的Pod拥有稳定且唯一的网络标识</li><li><strong>创建主节点StatefulSet</strong>：1、编写一个复杂的StatefulSet文件来定义节点。需要正确地挂载PVC、将Secret中的密码注入为环境变量、配置容器端口等</li><li><strong>创建从节点StatefulSet</strong>：1、编写一个复杂的StatefulSet文件来定义节点。需要确保从节点能通过正确的网络地址找到主节点</li><li><strong>创建Service</strong>：1、指向主节点用于写操作；2、指向所有节点用于读操作</li><li><strong>手动执行主从配置</strong><ol><li>等待Pod启动</li><li>使用<code>kubectl exec</code>进入主节点Pod</li><li>登录MySQL，手动执行SQL命令<code>CREATE USER &#39;replicator&#39;@&#39;%&#39; IDENTIFIED BY &#39;...&#39;;</code>和<code>GRANT REPLICATION SLAVE ON *.* TO &#39;replicator&#39;@&#39;%&#39;;</code></li><li>使用<code>kubectl exec</code>进入每个从节点Pod</li><li>登录MySQL，手动执行<code>CHANGE MASTER TO ....</code>命令，将主库地址、用户名、密码等信息填入</li><li>登录MySQL，执行<code>START SLAVE;</code></li></ol></li></ul><p>通过helm可以将上述复杂的手动设置简化为几行命令：</p><ol><li>添加Bitnami的Chart仓库</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bitnami</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://charts.bitnami.com/bitnami</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>一键部署MySQL主从集群</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-mysql-cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bitnami/mysql</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --namespace</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql-cluster</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --create-namespace</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> architecture=replication</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> secondary.replicaCount=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> auth.rootPassword=&#39;root&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> primary.service.type=NodePort</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> primary.service.nodePorts.mysql=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30306</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p><a href="https://helm.sh/zh/docs/intro/install/" target="_blank" rel="noopener noreferrer">https://helm.sh/zh/docs/intro/install/</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get_helm.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-4</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 700</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get_helm.sh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./get_helm.sh</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 命令补全</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> completion bash)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="基本使用" tabindex="-1"><a class="header-anchor" href="#基本使用"><span>基本使用</span></a></h2><p>char包层级结构</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 可通过命令创建： helm create my-chart</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">my-chart/</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # Chart名称</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Chart.yaml</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # 【必须】Chart元信息，包含Chart的名称、版本、描述等信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> values.yaml</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # 【必须】默认配置值，定义所有可供用户自定义的参数及其默认值，可以通过 \`-f\` 或者 \`--set\` 来指定或修改值</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> charts/</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # 【可选】依赖的子Chart</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> templates/</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # 【必须】模板文件目录，存放k8s资源的模板文件。里面充满 \`{{.Values.xxxx}}\` 的占位符（使用go模板语法），当执行 \`helm install\` 是，Helm引擎会读取values.yaml中的值，然后渲染到占位符里，生成完整的、k8s可用的资源模板清单。可通过 \`helm template --debug my-chart\` 命令调试，具体参考调试章节</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> _helpers.tpl</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 可重用的模板片段库。用于定义一些可以在多个模板文件中重复使用的“函数”，保持代码整洁</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> deployment.yaml</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 部署应用的核心文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> service.yaml</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 服务发现文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ingress.yaml</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 入口路由文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> configmap.yaml</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 配置文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> secret.yaml</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 敏感信息文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tests/</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # 测试文件目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test-connection.yaml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">└──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> README.md</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # 【推荐】使用说明</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>常用命令</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # helm ls</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # helm install test-chart my-chart/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> uninstall</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 从secret/confgmap中存取操作记录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> history</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 创建目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> package</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 打包成tgz文件，便于传输</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="Chart.yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v2</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 接口版本，根据helm支持的版本决定</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-chart</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # chart名称，自定义</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.1.0</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # chart版本，自定义</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">appVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1.16.0&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 应用版本，自定义</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="模板语法" tabindex="-1"><a class="header-anchor" href="#模板语法"><span>模板语法</span></a></h3><p>Helm 提供了超过 60 个可用的函数。其中一些是由 Go 模板语言 本身定义的。大多数其他函数都是 Sprig 模板库 的一部分。</p><ul><li>模板函数和管道 <a href="https://helm.kubernetes.ac.cn/docs/chart_template_guide/functions_and_pipelines/" target="_blank" rel="noopener noreferrer">https://helm.kubernetes.ac.cn/docs/chart_template_guide/functions_and_pipelines/</a></li><li>sprig <a href="https://masterminds.github.io/sprig/" target="_blank" rel="noopener noreferrer">https://masterminds.github.io/sprig/</a></li></ul><h3 id="调试" tabindex="-1"><a class="header-anchor" href="#调试"><span>调试</span></a></h3><p><a href="https://helm.kubernetes.ac.cn/docs/chart_template_guide/debugging/" target="_blank" rel="noopener noreferrer">https://helm.kubernetes.ac.cn/docs/chart_template_guide/debugging/</a></p>`,26)])])}const p=s(t,[["render",n]]),d=JSON.parse('{"path":"/zh/ops-cicd-kubernetes/helm.html","title":"helm 介绍","lang":"zh-CN","frontmatter":{"title":"helm 介绍","description":"helm是kubernetes的包管理工具，可以将应用程序打包成一个可复用的单元，方便在集群中部署和管理。 helm的核心是chart，chart是应用程序的打包文件，包含应用程序的配置、部署文件和依赖关系。 特点： 标准化与可重复性：任何环境（开发、测试、生产）的部署都可以通过同一套Chart和不同的配置文件来完成，保证环境的一致性和部署的可重复性。...","head":[["meta",{"property":"og:url","content":"https://lawsssscat.github.io/blog/zh/blog/zh/ops-cicd-kubernetes/helm.html"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"helm 介绍"}],["meta",{"property":"og:description","content":"helm是kubernetes的包管理工具，可以将应用程序打包成一个可复用的单元，方便在集群中部署和管理。 helm的核心是chart，chart是应用程序的打包文件，包含应用程序的配置、部署文件和依赖关系。 特点： 标准化与可重复性：任何环境（开发、测试、生产）的部署都可以通过同一套Chart和不同的配置文件来完成，保证环境的一致性和部署的可重复性。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-03T15:45:59.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-03T15:45:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"helm 介绍\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-03T15:45:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Steven\\",\\"url\\":\\"https://github.com/LawssssCat/\\"}]}"]]},"headers":[{"level":2,"title":"示例：使用Helm构建MySQL主从集群","slug":"示例-使用helm构建mysql主从集群","link":"#示例-使用helm构建mysql主从集群","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"基本使用","slug":"基本使用","link":"#基本使用","children":[{"level":3,"title":"模板语法","slug":"模板语法","link":"#模板语法","children":[]},{"level":3,"title":"调试","slug":"调试","link":"#调试","children":[]}]}],"git":{"createdTime":1767455159000,"updatedTime":1767455159000,"contributors":[{"name":"lawsssscat","username":"lawsssscat","email":"18041500+LawssssCat@users.noreply.github.com","commits":1,"url":"https://github.com/lawsssscat"}]},"readingTime":{"minutes":3.97,"words":1190},"filePathRelative":"zh/ops-cicd-kubernetes/helm.md","localizedDate":"2026年1月3日","excerpt":"<p>helm是kubernetes的包管理工具，可以将应用程序打包成一个可复用的单元，方便在集群中部署和管理。\\nhelm的核心是chart，chart是应用程序的打包文件，包含应用程序的配置、部署文件和依赖关系。</p>\\n<p>特点：</p>\\n<ul>\\n<li><strong>标准化与可重复性</strong>：任何环境（开发、测试、生产）的部署都可以通过同一套Chart和不同的配置文件来完成，保证环境的一致性和部署的可重复性。一个<code>helm upgrade</code>命令取代数十个<code>kubectl apply</code>/<code>kubectl exec</code>命令</li>\\n<li><strong>版本控制（支持安装、升级、回滚）</strong>：Helm Chart本身可以像代码一样被版本化，并存储在Chart仓库（如<a href=\\"https://artifacthub.io/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Artifact Hub</a>或者私有仓库）中。CI/CD流水线可以准确地拉去指定版本的Chart进行部署或回滚</li>\\n<li><strong>环境隔离与配置管理</strong>：Helm允许为不同的环境使用不同的values.yaml文件。例如可以通过<code>-f values-production.yaml</code>参数指定生产环境配置文件，该文件包含了生产环境的数据库密码、资源限制（CPU/Memory）和副本数等。</li>\\n</ul>","autoDesc":true}');export{p as comp,d as data};
